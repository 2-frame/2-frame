# [장바구니 상품] 요구사항 정의

1. 회원은 장바구니 상품 조회를 할 수 있다.
2. 회원은 장바구니 상품에 판매상품을 담을 수 있다.
    -[X] 회원이 장바구니 담기 api를 클릭하면 장바구니 리스트에 판매상품이 추가되어야 한다.
    -[X] 위 기능이 실행되려면 필요한 request 정보: memberId(member의 인증 정보), saleProductId, 구매 수량
    -[X] 그리고 전달 받은 DTO를 DB에 저장하려면 엔티티로 변환해야 한다.
    -[X] ~~위 기능이 실행된 후, 전달할 response 정보는 없다.~~
    -[X] 위 기능이 실행된 후, 장바구니 목록 List<CartItemListResponse>을 리턴한다.
    -[ ] 추후, 쇼핑 계속하기 or 장바구니 보기 둘 중 선택하도록 옵션을 줄 것이다.
3. 동일한 판매상품을 장바구니에 여러 번 담으면, 해당 판매상품의 수량이 증가한다.
    -[X] 회원이 장바구니 담기 api를 클릭했는데, 동일한 판매상품으로 확인되면 수량만 증가시킨다.
    -[X] 위 기능이 실행되려면 필요한 request 정보: memberId(member의 인증 정보), saleProductId, 구매 수량
    -[X] memberId와 saleProductId로 같은 CartItem이 있는지 확인한다.
    -[X] 같은 상품이 있다면 quantity=newQuantity로 update 한다.
    -[X] 같은 상품이 없다면 2번 로직대로 새롭게 CartItem을 insert 한다.
    -[X] DTO를 DB에 저장하려면 엔티티로 변환해야 한다.
    -[X] 최대 수량은 10개로 한다.
    -[ ] 추후, 동일한 판매상품을 추가할 경우, "장바구니에 동일한 상품이 있습니다. 장바구니에 추가하시겠습니까?" 메세지를 리턴하고, 추가 or not 둘 중 선택하도록 옵션을 줄 것이다.
4. 회원은 장바구니에 담긴 판매상품의 수량을 자유롭게 수정할 수 있다.
    -[ ] 회원이 장바구니에 담긴 상품의 수량을 수정하고 변경(버튼)를 클릭하면 수량이 변경되도록 한다.
     -[] 위 기능이 실행되려면 필요한 request 정보: memberId(member의 인증 정보), saleProductId, 구매 수량
    -[X] 장바구니 상품 목록을 다시 리턴한다.(refresh)
    -[ ] Controller 단에서 요청 DTO가 유효하지 않을 경우, 구체적이고 사용자 친화적인 예외처리를 할 필요성,,,,
5. 수량은 1개 이상으로 설정되어야 하며, 수량을 0 이하로 변경하면 시도를 차단하고, 메세지를 리턴합니다. "1개 이상부터 구매하실 수 있습니다."
    -[X] 최소 수량은 1개, 최대 수량은 10개로 한다.
    -[ ] 메세지 리턴은 나중에
6. 장바구니에서 판매상품을 삭제할 수 있다.
7. 장바구니에 담은 판매상품의 가격은 실시간으로 반영된다.
8. 장바구니에 담긴 판매상품의 가격이 변동되면, 그에 맞게 장바구니에 표시되는 가격도 실시간으로 변경된다.
9. 장바구니는 로그인한 상태에 무관하게 판매상품을 담을 수 있다.
10. 장바구니에 담은 상품의 총 금액을 계산할 수 있다.
11. 장바구니에 담긴 상품의 재고를 확인하여, 재고가 부족한 상품은 결제 진행을 제한하거나 안내 메시지를 표시한다.
